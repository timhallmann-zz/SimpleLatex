/*SimpleLatex v1.3.0
(c) Tim Hallmann*/
let SimpleLatex=function(){function e(w,x=!1,y=!1){if(null==w||0==w.length)return"";if(0<w.length&&0==w.indexOf("\\l"))return w.substring(2);let z=[],A="",B=!0;for(let C=0;C<w.length;C++){if(-1<["\\b","\\N","\\Z","\\Q","\\A","\\R","\\C","\\H","\\O","\\S","==","~=","<=","=>","!="].indexOf(w[C]+w[C+1])){z.push(t[w[C]+w[C+1]]),C++,B=!0;continue}let D=z.length-1;if(l(w[C])){let E=g(w.substring(C));C+=E.i,0==E.content.indexOf("\\l")?z.push(E.content.substring(2)):z.push(E.openingParenthesis+e(E.content)+E.closingParenthesis),B=!0}else x&&o(w[C]+w[C+1])||y&&p(w[C])?(0==C||C+1==w.length||p(z[D])||o(z[D])?o(w[C]+w[C+1])&&p(z[D])&&(z[D]="\\\\"):o(w[C]+w[C+1])?z.push("\\\\"):z.push("&"),"\\"==w[C]&&C++,B=!0):k(w[C])?(z.push(w[C]),B=!0):(B?z.push(w[C]):z[D]+=w[C],B=!1)}console.log(z);for(let C=0;C<z.length;C++)if(!/^[^a-zÂ°%]+$/g.test(z[C])){let D="",E=[];for(let I=0;I<v.length;I++)v[I]==z[C]?D=v[I]:2<z[C].length&&0==v[I].indexOf(z[C])&&E.push(v[I]);if(""!=D||1==E.length){let F=D||E[0];null!=t[t[F]]&&(F=t[F]);let G=t[F];Number.isInteger(t[F])&&(G=r[t[F]]);let H=z[C+1]||"";-1<G.indexOf("arg")&&l(H[0])?(z[C]=f(F,G,H.substring(1,H.length-1)),z.splice(C+1,1)):z[C]=f(F,G)}}for(let C=z.length-1;0<C;C--)if("^"==z[C]||"_"==z[C]){let D=1;"-"==z[C+1]&&(D=2),z[C]=n(z[C-1])+z[C]+"{"+(2==D?"-":"")+m(z[C+D])+"}",z.splice(C-1,1),z.splice(C,D),C-=D}for(let C=0;C<z.length;C++)if("/"==z[C]){let D=1;"-"==z[C+1]&&(D=2),z[C]="\\frac{"+m(z[C-1])+"}{"+(2==D?"-":"")+m(z[C+D])+"}",z.splice(C-1,1),z.splice(C,D),C-=D}for(let C=0;C<z.length;C++)A+=y?m(z[C]):n(z[C]);return A}function f(w,x,y=""){if(x=x.replace(/func/g,w),-1<x.indexOf("arg")){let z=h(y);x=x.replace(/arg(s{0,1})(p*)([0-9]*)/g,(A,B,C,D)=>{return A="s"==B?z[D]:y,null==A?"":3==B.length?e(A,!0,!0):2==B.length?e(A,!0):1==B.length?e(A):0==B.length?A||"":""})}return x}function g(w){let x=w[0],y=q[x],z="",A=1,B=1;for(;0<A&&B<w.length;)w[B]==y?A--:w[B]==x&&A++,0<A&&(z+=w[B],B++);return{i:B,content:z,openingParenthesis:x,closingParenthesis:y}}function h(w){let x=[],z="";for(let A=0;A<w.length;A++)if(l(w[A])){let B=g(w.substring(A));A+=B.i,z+=B.openingParenthesis+B.content+B.closingParenthesis}else","==w[A]?(x.push(z),z=""):z+=w[A];return x.push(z),x}function k(w){return /[^0-9a-z!]/i.test(w)}function l(w){return"("==w||"["==w||"{"==w}function m(w=""){let x=w.length-1;return l(w[0])&&w[x]==q[w[0]]&&(w=w.substring(1,x)),w}function n(w=""){let x=w.length-1;return l(w[0])&&w[x]==q[w[0]]&&(w="\\left"+("{"==w[0]?"\\":"")+w.substring(0,x)+"\\right"+("}"==w[x]?"\\":"")+w[x]),w}function o(w=""){return"\\\\"==w||"\n"==w[0]}function p(w){return" "==w||"&"==w}let q={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"},r=["\\func ","\\func{argp}","\\func{arg}","\\left\\lfunc argp \\right\\rfunc","\\begin{func}argppp\\end{func}","\\begin{func}argpp\\end{func}","\\begin{func}{args0}argsp1\\end{func}","\\func{argsp0}{argsp1}","\\func_{argsp0}^{argsp1}","\\func_{argsp0}","\\func[argsp1]{argsp0}"],s={accents:{hat:1,bar:1,dot:1,ddot:1,vec:1,overline:1,underline:1},delimiters:{"\\b":"\\backslash",ceil:3,floor:3,group:3,brack:3,brace:3,ucorner:"\\ulcorner argp \\urcorner",lcorner:"\\llcorner argp \\lrcorner",moustache:3,uparrow:0,downarrow:0,updownarrow:0,Downarrow:0,Updownarrow:0},environments:{matrix:4,pmatrix:4,vmatrix:4,Bmatrix:4,bmatrix:4,Vmatrix:4,array:6,darray:6,aligned:5,gathered:5,cases:5,dcases:5},letters:{Gamma:0,Delta:0,Theta:0,Lambda:0,Xi:0,Pi:0,Sigma:0,Upsilon:0,Phi:0,Psi:0,Omega:0,alpha:0,beta:0,gamma:0,delta:0,epsilon:0,zeta:0,eta:0,theta:0,iota:0,kappa:0,lambda:0,mu:0,nu:0,xi:0,omicron:0,pi:0,rho:0,sigma:0,tau:0,upsilon:0,phi:0,chi:0,psi:0,omega:0,varepsilon:0,varkappa:0,vartheta:0,varpi:0,varrho:0,varsigma:0,varphi:0,digamma:0,imath:0,jmath:0,aleph:0,beth:0,gimel:0,daleth:0,eth:0,Finv:0,Game:0,ell:0,hbar:0,hslash:0,Im:0,Re:0,wp:0,partial:0,nabla:0,Bbbk:0,infty:0},annotation:{cancel:1,bcancel:1,xcancel:1,sout:1,overbrace:1,underbrace:1,boxed:1},overlap:{llap:1,rlap:7},spacing:{quad:0,qquad:0,enspace:0,space:0,phantom:1,kern:"\\funcarg",stackrel:7,overset:7,underset:7,atop:0},logic:{forall:0,exists:0,nexists:0,"in":0,nin:"notin",notin:0,ni:0,complement:0,subset:0,supset:0,mid:0,land:0,lor:0,therefore:0,because:0,mapsto:0,to:0,gets:0,leftrightarrow:0,neg:0,lnot:0,implies:0,impliedby:0,iff:0},set:{emptyset:0,varnothing:0,"\\N":"\\mathbb{N}","\\Z":"\\mathbb{Z}","\\Q":"\\mathbb{Q}","\\A":"\\mathbb{A}","\\R":"\\mathbb{R}","\\C":"\\mathbb{C}","\\H":"\\mathbb{H}","\\O":"\\mathbb{O}","\\S":"\\mathbb{S}"},bigOperators:{sum:8,int:8,iint:8,iiint:8,oint:8,intop:8,smallint:8,prod:8,coprod:8,bigvee:8,bigwedge:8,bigcap:8,bigcup:8,bigsqcup:8,bigotimes:8,bigoplus:8,bigodot:8,biguplus:8},binOperators:{mod:0,bmod:0},binomialCoefficients:{binom:7,choose:0,dbinom:7,tbinom:7},operators:{pm:0,mp:0,times:0,arcsin:0,arccos:0,arctan:0,arctg:0,arcctg:0,arg:0,ch:0,cos:0,cosec:0,cosh:0,cot:0,cotg:0,coth:0,csc:0,ctg:0,cth:0,deg:0,dim:0,exp:0,hom:0,ker:0,lg:0,ln:0,sec:0,sin:0,sinh:0,sh:0,tan:0,tanh:0,tg:0,th:0,sqrt:"\\func[argsp1]{argsp0}",log:9,det:9,gcd:9,inf:9,lim:9,liminf:9,limsup:9,max:9,min:9,Pr:9,sup:9},relations:{"==":"equiv",equiv:0,"~=":"approx",approx:0,approxeq:0,asymp:0,between:0,"<=":"leq",leq:0,"=>":"geq",geq:0,owns:0,parallel:0,perp:0,"!=":"neq",neq:0,nparallel:0},extensibleArrows:{xrightarrow:10,xleftarrow:10,xleftrightarrow:10},color:{color:2,textcolor:"\\func{args0}{args1}"},font:{mathrm:1,textrm:1,rm:1},size:{Huge:0,"huge ":0,LARGE:0,Large:0,large:0,normalsize:0,small:0,footnotesize:0,scriptsize:0,tiny:0},style:{displaystyle:0,textstyle:0,scriptstyle:0,scriptscriptstyle:0,text:2,textnormal:2},symbols:{"%":0,"\xB0":"\\degree",cdots:0,ddots:0,ldots:0,vdots:0,angle:0,measuredangle:0,sphericalangle:0,checkmark:0,diagdown:0,diagup:0}},t={};for(var u in s)s.hasOwnProperty(u)&&Object.assign(t,s[u]);let v=Object.keys(t).sort((w,x)=>{return x.length-w.length});return{parse:e,functionsByTopic:s,functions:t,functionsSorted:v}}();